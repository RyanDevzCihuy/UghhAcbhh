#!/bin/bash

# Fungsi: Menampilkan Tampilan Menu yang Rapi
tampilkan_menu() {
    clear # Bersihkan terminal untuk tampilan yang rapi
    echo " "
    echo "=========================================="
    echo "          ðŸš€ Main Menu ðŸš€      "
    echo "=========================================="
    echo " "
    echo "  [1] Start Install Now                          "
    echo "  [2] Setting Menu                       "
    echo "  [3] Redeem Menu                        "
    echo "  [4] Exit                               "
    echo " "
    echo "------------------------------------------"
}

# --- Main Loop ---
# Program akan terus berputar di sini sampai pengguna memilih '4' (Exit)
while true
do
    tampilkan_menu # 1. Tampilkan menu

    echo -n "ðŸ”‘ Please type the numbers (1-4) and press ENTER: "
    # PERUBAHAN UTAMA: Membaca input dari /dev/tty (terminal)
    read PILIHAN </dev/tty # 2. Ambil input pengguna

    # 3. Kontrol Alur dengan CASE
    case $PILIHAN in
        1)
            echo "--- choose option: 1 ---"
            bash /data/data/com.termux/files/home/RyPX/bin main mulaisaja
            echo "--- Done. Enter for back to menu ---"
            # PERUBAHAN: Membaca input dari /dev/tty (terminal)
            read enter </dev/tty
            ;;
        2)
            echo "--- choose option: 2 ---"
            bash /data/data/com.termux/files/home/RyPX/bin main setmenu2
            echo "--- Done. Enter for back to menu ---"
            # PERUBAHAN: Membaca input dari /dev/tty (terminal)
            read enter </dev/tty
            ;;
        3)
            echo "--- choose option: 3  ---"
            bash /data/data/com.termux/files/home/RyPX/bin main redeemmenu2
            echo "--- Done. Enter for back to menu ---"
            # PERUBAHAN: Membaca input dari /dev/tty (terminal)
            read enter </dev/tty
            ;;
        4)
            echo " "
            echo "ðŸ‘‹ Quit... Goodbye!"
            exit 0 # Perintah: exit
            ;;
        *)
            # Menangani input yang tidak valid
            echo " "
            echo "âŒ Warning: invalid input '$PILIHAN'."
            echo "make sure your numbers match the menu"
            echo "Enter for back to menu..."
            # PERUBAHAN: Membaca input dari /dev/tty (terminal)
            read enter </dev/tty
            ;;
    esac
done
